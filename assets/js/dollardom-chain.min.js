/**
* $dom library (v0.9.2b) copyright 2009, 2010, 2011 Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*
* Copyright 2011, 2012 Julien Wajsberg
* Licensed under the MIT License
* https://github.com/julienw/dollardom
* @preserve
*/
!function(t){function n(t,n,r){var i=e(n),u=P[i];return u&&u.set?u.set(t,r):t.style[i]=r}function e(t){return q[t]||(q[t]=t.replace(H,function(t,n){return n.toUpperCase()}))}function r(t,e,r){if(r===j){if("string"==typeof e)return G(t,e)||0;for(var i in e)n(t,i,e[i])}else n(t,e,r)}function i(t){var n,e=[];if("string"==typeof t)for(;t&&(n=t.match(B),""!==n[0]);)e.push({rel:n[1],uTag:(n[2]||"").toUpperCase(),id:n[3],classes:n[4]?n[4].split("."):j}),t=t.substring(n[0].length);return e}function u(t,n){for(;(t=t.parentNode)&&t!==n;);return null!==t}function o(t,n){function e(t,n){var e,i=n.id?(e=(t&&t.ownerDocument||k).getElementById(n.id))&&u(e,t)?[e]:[]:r(t.getElementsByTagName(n.uTag||"*"));if(e=i.length,e>0&&(n.id||n.classes))for(;e--;)a(i[e],n)||i.splice(e,1);return i}function r(t){try{return Array.prototype.slice.call(t)}catch(n){for(var e=[],r=0,i=t.length;i>r;r++)e.push(t[r]);return e}}function o(t){for(var n=m.length;n--;)if(m[n]===t)return W;return $}var s,c,f,l,h,d,p,g,v,m=[],y=[t],E=i(n);for(E.length||(E=[{}]),s=0,c=E.length;c>s;s++){for(p=E[s],f=0,l=y.length;l>f;f++)switch(g=y[f],p.rel){case">":var C=g.childNodes;for(h=0,d=C.length;d>h;h++)a(C[h],p)&&m.push(C[h]);break;case"~":for(;g=g.nextSibling;)if(a(g,p)){if(o(g))break;m.push(g)}break;case"+":for(;(g=g.nextSibling)&&1!==g.nodeType;);g&&a(g,p)&&m.push(g);break;default:if(v=e(g,p),s>0)for(h=0,d=v.length;d>h;h++)o(v[h])||m.push(v[h]);else m=m.concat(v)}if(!m.length)return[];y=m.splice(0,m.length)}return y}function a(t,n){if(!n)return!0;var e=n.uTag,r=n.id,i=n.classes;return!(1!==t.nodeType||e&&e!==t.tagName||r&&r!==t.id||i&&!l(t,i))}function s(t,n,e){for(e=i(e)[0];t&&!a(t,e)&&(t=t[n]););return t}function c(t,n){return n=i(n)[0],t&&a(t,n)}function f(t,n,e){return s(t[n],n,e)}function l(t,n){if(""===t.className)return $;for(var e=0;e<n.length;e++)if(!b(t,n[e]))return $;return W}function h(){function n(){if(!r){r=!0,i&&(i=t.clearTimeout(i));for(var n=0,e=I.length;e>n;n++)I[n]()}}function e(){try{F.doScroll("left")}catch(r){return void t.setTimeout(e,20)}n()}var r,i;if(k.addEventListener)k.addEventListener("DOMContentLoaded",n,$),k.addEventListener("load",n,$);else if(k.attachEvent){k.attachEvent("onload",n);var u=!1;try{u=null===t.frameElement}catch(o){}u&&F.doScroll&&e()}}function d(t,n){var e=i(t)[0],r=e.uTag;if(!r)return null;var u=(n||k).createElement(r),o=e.id,a=e.classes;return o&&(u.id=o),a&&(u.className=a.join(" ")),u}function p(n){/loaded|complete|interactive/.test(k.readyState)?t.setTimeout(n,0):I.push(n)}function g(t,n){return o(n||F,t)}function v(t,n){return f(t,"parentNode",n)}function m(t,n){return f(t,"nextSibling",n)}function y(t,n){return f(t,"previousSibling",n)}function E(t,n){return t=t.parentNode.firstChild,s(t,"nextSibling",n)}function C(t,n){return t=t.parentNode.lastChild,s(t,"previousSibling",n)}function b(t,n){return(" "+t.className+" ").indexOf(" "+n+" ")>-1}function x(t,n){b(t,n)||(t.className+=" "+n)}function w(t,n){b(t,n)&&(t.className=t.className.replace(RegExp("(^|\\s)"+n+"(\\s|$)")," ").replace(/\s$/,""))}function N(t,n,e){(e?x:w)(t,n)}function S(t){return k.createTextNode(t)}function T(t,n,e){t.setAttribute(n,""+e)}function A(t,n){return t.getAttribute(n)||null}function L(t,n,e){if("object"!=typeof n)return e===j?A(t,n):void T(t,n,e);for(var r in n)T(t,r,n[r])}function D(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function V(t,n){n||(n=t,t=this);for(var e in n)t[e]=n[e]}var j,k=t.document,F=k.documentElement,W=!0,$=!1,B=/^\s*([>+~])?\s*([*\w-]+)?(?:#([\w-]+))?(?:\.([\w.-]+))?\s*/,H=/-(\w)/g,I=[],O=[],q={"float":"cssFloat"in F.style?"cssFloat":"styleFloat"},P={borderWidth:{get:function(t){return G(t,"border-left-width")}},padding:{get:function(t){return G(t,"padding-left")}},margin:{get:function(t){return G(t,"margin-left")}}};!("opacity"in F.style)&&"filters"in F&&(P.opacity={set:function(t,n){var e=t.filters.alpha;e?e.opacity=100*n:t.style.filter+=" Alpha(opacity="+100*n+")"},get:function(t){var n=t.filters.alpha;return n?n.opacity/100:1}}),"clientWidth"in F&&(P.width={get:function(t){return t.style.width||t.clientWidth||t.offsetWidth}}),"clientHeight"in F&&(P.height={get:function(t){return t.style.height||t.clientHeight||t.offsetHeight}});var U=t.addEventListener?function(t,n,e){t.addEventListener(n,e,!1)}:function(n,e,r){var i=n.uniqueID+e+r;O[i]=function(){var e=t.event;return e.target=e.srcElement||k,e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},r.call(n,e)},n.attachEvent("on"+e,O[i])},z=t.removeEventListener?function(t,n,e){t.removeEventListener(n,e,!1)}:function(t,n,e){var r=t.uniqueID+n+e;t.detachEvent("on"+n,O[r]),delete O[r]},G=k.defaultView&&k.defaultView.getComputedStyle?function(t,n){var r=e(n),i=P[r];return i&&i.get?i.get(t):t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(n)}:function(t,n){var r=e(n),i=P[r];return i&&i.get?i.get(t):t.currentStyle[r]},M={create:d,onready:p,addEvent:U,removeEvent:z,get:g,descendants:o,ancestor:v,next:m,previous:y,first:E,last:C,empty:D,is:c,text:S,attr:L,hasClass:b,addClass:x,removeClass:w,toggleClass:N,style:r,extend:V};t.$dom=M,h()}(this),function(t){function n(t,n){for(var e=0,r=t.length;r>e;e++)n(t[e])}function e(t,n){for(var e=[],r=0,i=t.length;i>r;r++)e.push(n(t[r]));return e}function r(t){for(var n,e,r,i,u=0,o=[],a=[t];u<a.length;){for(n=a[u],e=0,r=n.length;r>e;e++)i=n[e],h(i)?a.push(i):o.push(i);u++}return o}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t){this.a=t}function o(t,n){return new u(c.get(t,n))}function a(t,n){return new u([c.create(t,n)])}function s(t){return t=h(t)?t:[t],new u(t)}var c=t.$dom,f=Array.prototype.forEach?function(t,n){t.forEach(n)}:n,l=Array.prototype.map?function(t,n){return t.map(n)}:e,h=Array.isArray||i,d=c.fn=u.prototype={addEvent:function(t,n){return f(this.a,function(e){c.addEvent(e,t,n)}),this},removeEvent:function(t,n){return f(this.a,function(e){c.removeEvent(e,t,n)}),this},descendants:function(t){return s(r(l(this.a,function(n){return c.descendants(n,t)})))},ancestor:function(t){return s(l(this.a,function(n){return c.ancestor(n,t)}))},next:function(t){return s(l(this.a,function(n){return c.next(n,t)}))},previous:function(t){return s(l(this.a,function(n){return c.previous(n,t)}))},first:function(t){return s(l(this.a,function(n){return c.first(n,t)}))},last:function(t){return s(l(this.a,function(n){return c.last(n,t)}))},empty:function(){return f(this.a,c.empty),this},is:function(t){return this.a.length&&c.is(this.a[0],t)},hasClass:function(t){return this.a.length&&c.hasClass(this.a[0],t)},addClass:function(t){return f(this.a,function(n){c.addClass(n,t)}),this},removeClass:function(t){return f(this.a,function(n){c.removeClass(n,t)}),this},toggleClass:function(t,n){return f(this.a,function(e){c.toggleClass(e,t,n)}),this},style:function(t,n){return f(this.a,function(e){c.style(e,t,n)}),this},dom:function(t){return"number"==typeof t?this.a[t]:this.a},append:function(t){return t instanceof u&&(t=t.a),h(t)||(t=[t]),f(this.a,function(n){f(t,function(t){n.appendChild(t)})}),this},appendTo:function(t){return t instanceof u||(t=s(t)),t.append(this),this},size:function(){return this.a.length},each:function(t){return f(this.a,t),this},text:function(t){return this.append(c.text(t))},extend:c.extend,attr:function(t,n){return this.a.length&&c.attr(this.a[0],t,n)}};c.transform&&(d.transform=d.animate=function(t,n,e){return f(this.a,function(r){c.transform(r,t,n,e),e=null}),this}),c.extend({Get:o,select:o,Create:a,element:a,From:s,from:s,each:f,map:l})}(this);